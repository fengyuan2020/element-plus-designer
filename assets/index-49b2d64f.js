import{h as f,E as R,r as h,F as x,o as D,a as b,b as w,w as F,c as v,d as V,e as k,f as q,g as E,t as T,u as c,i as W,j as B,k as K}from"./index-f2182a49.js";const S={props:["currentItem","formModel","formRules","dynamicData"],setup(n){function r(e){return e.__vModel__?{modelValue:n.formModel[e.__vModel__],"onUpdate:modelValue"(t){n.formModel[e.__vModel__]=t}}:{}}function s(e,t){const o=()=>{const{required:p,showLabel:L}=e.__config__;let{label:M,labelWidth:g}=e.__config__;return g=g?g+"px":null,L===!1&&(g="0",M=""),{labelWidth:g,label:M,required:p,prop:e.__vModel__}};let a;t==="rawItem"?a=d(e,!0):t==="fixedItem"?a=y(e,!0):a="error layout!";const m=f(R,{...o()},f(a,null));return f(m,null)}function l(e){let t,o;e.__config__.tag==="el-form"&&(t=n.formModel,o=n.formRules);const{tag:a}=e.__config__;return f(h(a),{...e.__props__,...e.__native__,...r(e),model:t,rules:o},i(e))}function i(e,t){let o={};for(const a in e.__slots__)if(!(t&&a==="default")){if(typeof e.__slots__[a]=="string"){o[a]=()=>e.__slots__[a];continue}e.__slots__[a].length!==0&&(o[a]=()=>e.__slots__[a].map(m=>_(m)))}return o}function u(e){const t=e.__data__;let o={};if(t){const{name:a,source:m}=t;if(m==="static")o[a]=t.static[a];else{const p=e.__refs__[a];t.dynamic.dataKey?o[a]=n.dynamicData[p]&&n.dynamicData[p][t.dynamic.dataKey]||[]:o[a]=n.dynamicData[p]||[]}}return{__data__:o}}function y(e,t){let o={...e,...u(e)};return t?f(x,{conf:o,...r(e)}):f(x,{conf:o,...r(e)})}function d(e,t){const{tag:o}=e.__config__,a=u(e).__data__;return t?f(h(o),{...e.__props__,...e.__native__,...a,...r(e)},i(e)):f(h(o),{...e.__props__,...e.__native__,...a,...r(e)},i(e))}function _(e){if(typeof e=="string")return f("span",e);const{layout:t,wrapWithFormItem:o}=e.__config__;if(o)return s(e,t);if(t==="containerItem")return l(e);if(t==="rawItem")return d(e);if(t==="fixedItem")return y(e)}return()=>_(n.currentItem)}},$={__name:"Render",props:{drawItemList:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(n,{emit:r}){const s=n;D(()=>{u(s.drawItemList),console.info(l),r("update:modelValue",l)});const l=b({}),i=b({});function u(d){for(const _ of d)if(typeof _!="string"){if(_.__config__.wrapWithFormItem&&_.__vModel__){const{__config__:e}=_;l.value[_.__vModel__]=s.modelValue&&s.modelValue[_.__vModel__]||e.defaultValue;const t=y(_);t.length>0&&(i.value[_.__vModel__]=t)}Array.isArray(_.__slots__&&_.__slots__.default)&&u(_.__slots__.default)}}function y(d){const _=[],{__config__:e,__props__:t}=d;if(w[e.tag]){if(e.required){const o=Array.isArray(e.defaultValue)?"array":e.defaultValueType;let a=Array.isArray(e.defaultValue)?`请至少选择一个${e.label}`:t&&t.placeholder||"";a===void 0&&(a=`${e.label}不能为空`),_.push({required:!0,type:o,message:a,trigger:w[e.tag]})}e.regList&&Array.isArray(e.regList)&&e.regList.forEach(o=>{o.pattern&&_.push({pattern:new RegExp(o.pattern),message:o.message,trigger:w[e.tag]})})}return _}return F(l,d=>{r("update:modelValue",d)},{deep:!0}),(d,_)=>(v(),V(k,null,[(v(!0),V(k,null,q(n.drawItemList,e=>(v(),W(c(S),{"current-item":e,"form-model":c(l),"form-rules":c(i)},null,8,["current-item","form-model","form-rules"]))),256)),E(" "+T(c(l)),1)],64))}},A=[{__config__:{defaultValue:[],wrapWithFormItem:!1,optionType:"default",border:!1,tag:"el-checkbox-group",layout:"fixedItem",label:"多选框组"},__vModel__:"checkboxGroup101",__native__:{class:"23daa",title:"请输入！"},__refs__:{options:"checkboxGroup101Options"},__data__:{name:"options",source:"static",dynamic:{ref:!0,url:"https://www.fastmock.site/mock/c9e1a1c3cefb84da4306dcf9fadde652/ele-plus-desinger/options",method:"get",dataKey:"list"},static:{ref:!0,options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]}}}],j={style:{padding:"20px"}},N={__name:"index",setup(n){const r=b(A),s=b(A);return F(s,l=>{console.info(l)},{deep:!0}),(l,i)=>(v(),V("div",j,[B($,{"draw-item-list":c(r),modelValue:c(s),"onUpdate:modelValue":i[0]||(i[0]=u=>K(s)?s.value=u:null)},null,8,["draw-item-list","modelValue"])]))}};export{N as default};
