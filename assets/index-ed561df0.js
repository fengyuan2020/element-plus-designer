import{h as f,E as K,r as w,R as k,o as q,a as h,b as v,w as L,c as b,d as x,F as M,e as R,f as W,t as z,u as c,g as A,i as N,j as D}from"./index-cc28840f.js";const E={props:["currentItem","formModel","formRules","dynamicData"],setup(r){function _(e){return e.__vModel__?{modelValue:r.formModel[e.__vModel__],"onUpdate:modelValue"(t){r.formModel[e.__vModel__]=t}}:{}}function s(e,t){const a=()=>{const{required:m,showLabel:F}=e.__config__;let{label:I,labelWidth:g}=e.__config__;return g=g?g+"px":null,F===!1&&(g="0",I=""),{labelWidth:g,label:I,required:m,prop:e.__vModel__}};let l;t==="rawItem"?l=d(e,!0):t==="fixedItem"?l=y(e,!0):l="error layout!";const p=f(K,{...a()},f(l,null));return f(p,null)}function i(e){let t,a;e.__config__.tag==="el-form"&&(t=r.formModel,a=r.formRules);const{tag:l}=e.__config__;return f(w(l),{...e.__props__,..._(e),model:t,rules:a},n(e))}function n(e,t){let a={};for(const l in e.__slots__)if(!(t&&l==="default")){if(typeof e.__slots__[l]=="string"){a[l]=()=>e.__slots__[l];continue}e.__slots__[l].length!==0&&(a[l]=()=>e.__slots__[l].map(p=>o(p)))}return a}function u(e){const t=e.__data__;let a={};if(t){const{name:l,source:p}=t;if(p==="static")a[l]=t[l];else{const m=e.__refs__[l];t.dynamic.dataKey?a[l]=r.dynamicData[m]&&r.dynamicData[m][t.dynamic.dataKey]||[]:a[l]=r.dynamicData[m]||[]}}return{__data__:a}}function y(e,t){let a={...e,...u(e)};return t?f(k,{conf:a,..._(e)}):f(k,{conf:a,..._(e)})}function d(e,t){const{tag:a}=e.__config__,l=u(e).__data__;return t?f(w(a),{...e.__props__,...l,..._(e)},n(e)):f(w(a),{...e.__props__,...l,..._(e)},n(e))}function o(e){if(typeof e=="string")return f("span",e);const{layout:t,wrapWithFormItem:a}=e.__config__;if(a)return s(e,t);if(t==="containerItem")return i(e);if(t==="rawItem")return d(e);if(t==="fixedItem")return y(e)}return()=>o(r.currentItem)}},T={__name:"Render",props:{drawItemList:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(r,{emit:_}){const s=r;q(()=>{u(s.drawItemList),_("update:modelValue",i)});const i=h({}),n=h({});function u(d){for(const o of d)if(typeof o!="string"){if(o.__config__.wrapWithFormItem&&o.__vModel__){const{__config__:e}=o;i.value[o.__vModel__]=s.modelValue&&s.modelValue[o.__vModel__]||e.defaultValue;const t=y(o);t.length>0&&(n.value[o.__vModel__]=t)}Array.isArray(o.__slots__.default)&&u(o.__slots__.default)}}function y(d){const o=[],{__config__:e,__props__:t}=d;if(v[e.tag]){if(e.required){const a=Array.isArray(e.defaultValue)?"array":void 0;let l=Array.isArray(e.defaultValue)?`请至少选择一个${e.label}`:t.placeholder;l===void 0&&(l=`${e.label}不能为空`),o.push({required:!0,type:a,message:l,trigger:v[e.tag]})}e.regList&&Array.isArray(e.regList)&&e.regList.forEach(a=>{a.pattern&&o.push({pattern:new RegExp(a.pattern),message:a.message,trigger:v[e.tag]})})}return o}return L(i,d=>{_("update:modelValue",d)},{deep:!0}),(d,o)=>(b(),x(M,null,[(b(!0),x(M,null,R(r.drawItemList,e=>(b(),A(c(E),{"current-item":e,"form-model":c(i),"form-rules":c(n)},null,8,["current-item","form-model","form-rules"]))),256)),W(" "+z(c(i)),1)],64))}},V=[{__id__:"form",__props__:{model:"form101Model",rules:"form101Rules",inline:!1,"label-position":"right","label-width":"","label-suffix":"","hide-required-asterisk":!1,"require-asterisk-position":"right","show-message":!0,"inline-message":!1,"status-icon":!1,"validate-on-rule-change":!0,size:"default",disabled:!1,"scroll-to-error":!1,style:{}},__config__:{name:"表单",tag:"el-form",tagIcon:"form",layout:"containerItem",drawItemId:101,itemName:"form101"},renderKey:"1019455",__slots__:{default:[{__id__:"input",__config__:{tagIcon:"input",labelWidth:null,showLabel:!0,wrapWithFormItem:!0,defaultValue:"12",required:!0,regList:[],name:"单行文本",tag:"el-input",layout:"rawItem",drawItemId:102,label:"单行文本",itemName:"input102"},__props__:{type:"text",style:{width:"100%"},"show-word-limit":!1,clearable:!1,disabled:!1,size:"default",autosize:!1,readonly:!1,autofocus:!1,"validate-event":!0,"input-style":{},placeholder:"请输入单行文本"},renderKey:"1024363",__vModel__:"input102",__slots__:{prefix:[],suffix:[],prepend:[],append:[]},__refs__:{}},{__id__:"input",__config__:{name:"多行文本",itemName:"texarea103",labelWidth:null,showLabel:!0,wrapWithFormItem:!0,tag:"el-input",tagIcon:"textarea",defaultValue:"12",required:!0,regList:[],layout:"rawItem",drawItemId:103,label:"多行文本"},__props__:{type:"textarea",style:{width:"100%"},"show-word-limit":!1,clearable:!1,disabled:!1,size:"default",autosize:!1,readonly:!1,autofocus:!1,"validate-event":!0,"input-style":{},placeholder:"请输入多行文本"},renderKey:"1033045",__vModel__:"texarea103",__slots__:{prefix:[],suffix:[],prepend:[],append:[]},__refs__:{}},{__id__:"checkbox-group",__config__:{defaultValue:["2"],showLabel:!0,wrapWithFormItem:!0,labelWidth:null,optionType:"default",required:!0,border:!1,name:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",layout:"fixedItem",drawItemId:104,label:"多选框组",itemName:"checkbox-group104"},renderKey:"1045448",__vModel__:"checkboxGroup104",__slots__:{default:[]},__props__:{size:"default",disabled:!1,"text-color":"#ffffff",fill:"#409EFF",tag:"div","validate-event":!0,style:{}},__refs__:{options:"checkboxGroup104Options"},__data__:{name:"options",source:"static",dynamic:{ref:!0,url:"https://www.fastmock.site/mock/c9e1a1c3cefb84da4306dcf9fadde652/ele-plus-desinger/options",method:"get",dataKey:"list"},static:{ref:!0},options:[{label:"选项一",value:"1"},{label:"选项二",value:"2"}]}},{__id__:"cascader",__config__:{showLabel:!0,wrapWithFormItem:!0,labelWidth:null,defaultValue:["1","2"],dataType:"dynamic",required:!0,regList:[],name:"级联选择",tag:"el-cascader",tagIcon:"cascader",layout:"rawItem",drawItemId:105,label:"级联选择",itemName:"cascader105"},__props__:{style:{width:"100%"},props:{expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,value:"value",label:"label",children:"children",disabled:"disabled",leaf:"leaf",hoverThreshold:500},size:"default",disabled:!1,clearable:!1,"show-all-levels":!0,"collapse-tags":!1,"collapse-tags-tooltip":!1,separator:" / ",debounce:300,"popper-class":"",teleported:!0,"popper-append-to-body":!0,"tag-type":"info","validate-event":!0,placeholder:"请选择级联选择"},renderKey:"1052888",__vModel__:"cascader105",__slots__:{default:[],empty:[]},__refs__:{options:"cascader105Options"},__data__:{name:"options",source:"static",dynamic:{ref:!0,url:"https://www.fastmock.site/mock/c9e1a1c3cefb84da4306dcf9fadde652/ele-plus-desinger/options",method:"get",dataKey:""},static:{ref:!0},options:[{value:"1",label:"选项1",children:[{value:"2",label:"选项1-1"}]}]}},{__id__:"div",__config__:{name:"div",tag:"div",tagIcon:"div",layout:"containerItem",drawItemId:108,itemName:"div108"},renderKey:"1085632",__slots__:{default:[{__id__:"button",__slots__:{default:["取消"],loading:[],icon:[]},__config__:{name:"按钮",tag:"el-button",tagIcon:"button",layout:"rawItem",drawItemId:106,itemName:"button106"},renderKey:"1061592",__props__:{size:"default",plain:!1,text:!1,bg:!1,link:!1,round:!1,circle:!1,loading:!1,"loading-icon":"Loading",disabled:!1,autofocus:!1,"native-type":"button",dark:!1,tag:"button",style:{}},__refs__:{}},{__id__:"button",__slots__:{default:["确定"],loading:[],icon:[]},__config__:{name:"按钮",tag:"el-button",tagIcon:"button",layout:"rawItem",drawItemId:107,itemName:"button107"},renderKey:"1077863",__props__:{size:"default",plain:!1,text:!1,bg:!1,link:!1,round:!0,circle:!1,loading:!1,"loading-icon":"Loading",disabled:!1,autofocus:!1,"native-type":"button",dark:!1,tag:"button",style:{},type:"primary",icon:"Checked"},__refs__:{}}]},__props__:{style:{"text-align":"right"}},__refs__:{}}]},__refs__:{}}],S={style:{padding:"20px"}},O={__name:"index",setup(r){const _=h(V),s=h(V);return L(s,i=>{console.info(i)},{deep:!0}),(i,n)=>(b(),x("div",S,[N(T,{"draw-item-list":c(_),modelValue:c(s),"onUpdate:modelValue":n[0]||(n[0]=u=>D(s)?s.value=u:null)},null,8,["draw-item-list","modelValue"])]))}};export{O as default};
